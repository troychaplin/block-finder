(()=>{"use strict";document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("block-finder-form");e.addEventListener("submit",async t=>{t.preventDefault();const n=document.getElementById("post-type-selector"),o=document.getElementById("block-finder-selector"),d=n.value,r=o.value,c=document.getElementById("block-finder-results"),a=e.querySelector('button[type="submit"]');if(a.disabled=!0,a.textContent="Finding blocks...",c.innerHTML='<p id="block-results-loading">Loading results...</p>',""===d||""===r)return void(c.innerHTML="<p>Please select both a post type and a block to find.</p>");const s=new URLSearchParams;s.append("action","find_blocks"),s.append("post_type",d),s.append("block",r),s.append("nonce",blockFinderAjax.nonce);try{const e=await fetch(blockFinderAjax.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:s.toString()});if(e.ok){const t=await e.text();c.innerHTML=t}else{const t=await e.json();c.innerHTML=`<p>An error occurred: ${t.message}</p>`}}catch(e){c.innerHTML=`<p>An error occurred: ${e.message}</p>`}finally{a.disabled=!1,a.textContent="Find Block"}})})})();